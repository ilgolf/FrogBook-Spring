2일차 다시보는 main() 메서드 : 메서드 스택 프레임
==============================================

##### main()메서드는 프로그램이 시작되는 시작점이다. main() 메서드가 실행될 때 메모리, 특히 T메모리에는
##### 어떤 일이 일어날지 코드와 예제로 알아보자

``` java
    public class Study {
        public static void main(String[] args) {
            System.out.println("Let's study hard");
        }
    }
```

<img src="/static/T메모리.png" width="643px" height="151px" alt="객체 지향 프로그램의 메모리 사용 방식">

##### 위 그림 처럼 T 메모리가 있다고 가장하고 각 영역을 어떻게 사용하는지 살펴보자
#####
### main 메서드 실행 준비 1단계
#####
##### JRE는 먼저 프로그램안에 main() 메서드가 있는 지 확인한 후 JRE는 프로그램 실행을 위한 사전 준비에 착수한다.
##### JVM에 전원을 넣고 부팅된 JVM은 목적 파일을 받아 그 목적 파일을 실행한다. JVM이 맨 먼저 하는 일은 전처리이다.
##### 그래서 모든 자바 프로그램이 반드시 포함하게 되는 java.lang패키지를 T메모리에 띄운다.
#####

<img src="/static/image.png" width="311px" height="204px" alt="메인 메서드 실행준비 1단계"></img>

#####
### main 메서드 실행 준비 2단계
#####
##### JVM은 개발자가 작성한 모든 클래스와 임포트 패키지 역시 스태틱 영역에 가져다 놓는다. 그래서 스태틱 영역을 
##### "클래스들의 놀이터" 라고 한다. 현재 코드에서 클래스는 Study 뿐이니 다음과 같이 배치된다.
#####

<img src="/static/image (1).png" width="382px" height="204px" alt="메인 메서드 실행준비 2단계"></img>

##### 이제 모든 전처리 과정은 끝났다.
#####
### main() 메서드 스택 프레임
#####
##### 그럼 이제 main() 메서드의 첫 줄인 System.out.println("Let's study hard")에 출력을 알아보자 
##### 메서드들의 놀이터는 스택이다. main() 메서드가 놀기 위해 먼저 스택 영역에 할당된다. 여기서 부터 스택 프레임이 
##### 중괄호를 만날 때 마다 생긴다. 
#####

<img src="/static/image (2).png" width="382px" height="244px" alt="main() 메서드 스택 프레임"></img>

#####
##### 이제 한 단계만 거치면 System구문을 실행 시킬 수 있다. 메서드 인자 args를 저장할 변수 공간을 스택 프레임 맨 밑에
##### 확보해야 한다. 즉, 메서드 인자(들)의 변수 공간을 할당하는 것이다. 아래 그림 처럼 말이다.
#####

<img src="/static/image (3).png" width="405px" height="269px" alt="인자 변수 공간 추가"></img>

#####
##### 이제 구문을 실행할 준비가 끝났다. 메모리에 변화 없이 GPU에 화면 출력을 의뢰하고 화면에 실행한 System 구문이 출력된다.
#####

<img src="/static/메서드실행.PNG" width="469px" height="285px"></img>

#####
##### 2번째 줄의 블록 시작 기호인 여는 중괄호를 만나면 main() 메서드의 스택 프레임이 생긴다. 이후에 3번째줄을 실행하고
##### 4번째 줄에서 닫는 중괄호를 만나 메서드의 끝을 알리고 스택 프레임이 소멸된다.
#####

<img src="/static/image (4).png" width="382px" heigth="204"></img>

#####
##### main() 메서드가 프로그램의 시작점이자 끝이다. main() 메서드가 끝나면 JRE는 JVM을 종료하고 JRE 자체도 운영체제 상의 메모리
##### 에서 사라진다. 그럼 T 메모리도 사라지는 것이다.

##### 참고 : 
##### https://velog.io/@gaya309/TIL-%EB%8B%A4%EC%8B%9C-%EB%B3%B4%EB%8A%94-main-%EB%A9%94%EC%84%9C%EB%93%9C-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%8A%A4%ED%83%9D-%ED%94%84%EB%A0%88%EC%9E%84